# Руководство по развёртыванию RSS Parser в Docker

Данное руководство описывает, как развернуть приложение RSS Parser с использованием Docker и настроить его для регулярного выполнения каждые 3 часа с помощью `cron`.

## Предварительные требования
- Установленный Docker
- Базовые знания работы с командной строкой

## Шаги для развёртывания

### 1. Клонирование репозитория
Сначала клонируйте репозиторий с кодом RSS Parser:
```bash
git clone <repository_url>
cd <repository_directory>
```

### 2. Сборка Docker-образа
Используйте следующую команду для сборки Docker-образа:
```bash
docker build -t rss_parser .
```

### 3. Создание Docker volume для базы данных
Для сохранения данных базы создайте volume:
```bash
docker volume create rss_db_volume
```

### 4. Запуск Docker-контейнера
Запустите контейнер, подключив созданный volume для хранения базы данных:
```bash
docker run --name rss_parser_container -v rss_db_volume:/app/database rss_parser
```

### 5. Проверка логов
Логи приложения сохраняются в файл `app.log` в корне проекта. Чтобы просмотреть логи:
```bash
cat app.log
```

### 6. Инспектирование базы данных (опционально)
Если необходимо просмотреть содержимое базы данных, запустите временный контейнер:
```bash
docker run --rm -v rss_db_volume:/app/database busybox ls /app/database
```
Это отобразит файл `data.db`, хранящийся в volume.

### 7. Остановка и удаление контейнера
Если нужно остановить приложение:
```bash
docker stop rss_parser_container
```
Для удаления контейнера:
```bash
docker rm rss_parser_container
```

## Примечания
- Приложение настроено на выполнение скрипта `main.py` каждые 3 часа с использованием `cron`.
- Все данные сохраняются в базу данных SQLite (`data.db`).
- Логи записываются как в консоль, так и в файл `app.log`.
- Убедитесь, что у вас есть стабильное интернет-соединение для успешной загрузки RSS-ленты и связанных страниц.
- Если вы внесли изменения в код, пересоберите образ, используя команду из шага 2.

